<form [formGroup]="form" (ngSubmit)="onSubmit()">
    <div class="container">
      <!-- Name -->
      <div class="mb-3">
        <label for="name" class="form-label">Name <span class="text-danger">*</span></label>
        <input
          id="name"
          type="text"
          class="form-control"
          formControlName="name"
          [ngClass]="{ 'is-invalid': isInvalid('name') }"
        />
        <div *ngIf="isInvalid('name')" class="invalid-feedback">Name is required</div>
      </div>
  
      <!-- Username -->
      <div class="mb-3">
        <label for="username" class="form-label">Username <span class="text-danger">*</span></label>
        <input
          id="username"
          type="text"
          class="form-control"
          formControlName="username"
          [ngClass]="{ 'is-invalid': isInvalid('username') }"
        />
        <div *ngIf="isInvalid('username')" class="invalid-feedback">Username is required</div>
      </div>
  
      <!-- Email -->
      <div class="mb-3">
        <label for="email" class="form-label">Email <span class="text-danger">*</span></label>
        <input
          id="email"
          type="email"
          class="form-control"
          formControlName="email"
          [ngClass]="{ 'is-invalid': isInvalid('email') }"
        />
        <div
          *ngIf="isInvalid('email') && form.get('email')?.errors?.['required']"
          class="invalid-feedback"
        >
          Email is required
        </div>
        <div
          *ngIf="isInvalid('email') && form.get('email')?.errors?.['email']"
          class="invalid-feedback"
        >
          Please enter a valid email
        </div>
      </div>
  
      <!-- Phone -->
      <div class="mb-3">
        <label for="phone" class="form-label"
          >Phone <small class="text-muted">(Optional)</small></label
        >
        <input id="phone" type="tel" class="form-control" formControlName="phone" />
      </div>
  
      <!-- Buttons -->
      <div class="d-flex gap-2 mt-3">
        <button
          *ngIf="mode === 'edit'"
          type="button"
          class="btn btn-outline-secondary flex-fill"
          (click)="onCancel()"
        >
          Cancel
        </button>
  
        <button
          type="submit"
          class="btn btn-success flex-fill"
          [disabled]="form.invalid || isSubmitting"
        >
          <span *ngIf="isSubmitting" class="spinner-border spinner-border-sm me-2"></span>
          {{ mode === 'add' ? 'Submit' : 'Update' }}
        </button>
      </div>
    </div>
  </form>
  